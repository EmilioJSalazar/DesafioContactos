<div class="container mt-5">
  <div class="row justify-content-center">
    <div class="col-md-8 col-lg-6">
      <div class="card shadow">
        <div class="card-header bg-primary text-white">
          <h3 class="mb-0">{{ idContacto ? 'Editar' : 'Nuevo' }} Contacto</h3>
        </div>
        <div class="card-body">
          <form [formGroup]="form" (ngSubmit)="guardar()">
            
            <div class="mb-3">
              <label class="form-label">Nombre *</label>
              <input type="text" class="form-control" formControlName="nombre" placeholder="Ej: Emilio"
                     [ngClass]="{'is-invalid': form.get('nombre')?.invalid && form.get('nombre')?.touched}">
              <div *ngIf="form.get('nombre')?.invalid && form.get('nombre')?.touched" class="invalid-feedback"> 
                <small *ngIf="form.get('nombre')?.errors?.['required']">El nombre es obligatorio.</small>
                <small *ngIf="form.get('nombre')?.errors?.['pattern']">Solo aceptan letras y espacios.</small>
                <small *ngIf="form.get('nombre')?.errors?.['maxlength']">Has excedido el límite de caracteres.</small>
              </div>
            </div>

            <div class="mb-3">
              <label class="form-label">Apellido</label>
              <input type="text" class="form-control" formControlName="apellido" placeholder="Ej: Salazar"
                        [ngClass]="{'is-invalid': form.get('apellido')?.invalid && form.get('apellido')?.touched}">
              <div *ngIf="form.get('apellido')?.invalid && form.get('apellido')?.touched" class="invalid-feedback"> 
                <small *ngIf="form.get('apellido')?.errors?.['pattern']">Solo aceptan letras y espacios.</small>
                <small *ngIf="form.get('apellido')?.errors?.['maxlength']">Has excedido el límite de caracteres.</small>
              </div>
            </div>

            <div class="mb-3">
              <label class="form-label">Cédula *</label>
              <input type="text" class="form-control" formControlName="cedula" placeholder="Ej: 1722904198" maxlength="10" [readonly]="idContacto" 
                    [ngClass]="{'is-invalid': form.get('cedula')?.invalid && form.get('cedula')?.touched}">
              <div *ngIf="form.get('cedula')?.invalid && form.get('cedula')?.touched" class="invalid-feedback">
                <small *ngIf="form.get('cedula')?.errors?.['required']">La cédula es obligatoria.</small>
                <small *ngIf="form.get('cedula')?.errors?.['pattern']">Deben ser 10 números exactos.</small>
                <small *ngIf="form.get('cedula')?.errors?.['maxlength']">Has excedido el límite de caracteres.</small>
              </div>
            </div>

            <div class="mb-3">
              <label class="form-label">Correo Electrónico *</label>
              <input type="email" class="form-control" formControlName="correo" placeholder="Ej: example@mail.com"
                     [ngClass]="{'is-invalid': form.get('correo')?.invalid && form.get('correo')?.touched}">
              <div *ngIf="form.get('correo')?.invalid && form.get('correo')?.touched" class="invalid-feedback">
                <small *ngIf="form.get('cedula')?.errors?.['required']">El correo es obligatorio.</small>
                <small *ngIf="form.get('correo')?.errors?.['email']">Ingresa un correo válido.</small>
                <small *ngIf="form.get('correo')?.errors?.['maxlength']">Has excedido el límite de caracteres.</small>
              </div>
            </div>

            <div class="mb-3">
              <label class="form-label">Celular *</label>
              <input type="tel" class="form-control" formControlName="celular" placeholder="Ej: 0991234567" maxlength="10"
                     [ngClass]="{'is-invalid': form.get('celular')?.invalid && form.get('celular')?.touched}">
               <div *ngIf="form.get('celular')?.invalid && form.get('celular')?.touched" class="invalid-feedback">
                <small *ngIf="form.get('celular')?.errors?.['required']">El celular es obligatorio.</small>
                <small *ngIf="form.get('celular')?.errors?.['pattern']">Deben ser 10 números exactos.</small>
                <small *ngIf="form.get('celular')?.errors?.['maxlength']">Has excedido el límite de caracteres.</small>
              </div>
            </div>

            <div class="mb-3">
              <label class="form-label">Dirección</label>
              <input type="text" class="form-control" formControlName="direccion" placeholder="Ej: Av. Amazonas..."
                        [ngClass]="{'is-invalid': form.get('direccion')?.invalid && form.get('direccion')?.touched}">
              <div *ngIf="form.get('direccion')?.invalid && form.get('direccion')?.touched" class="invalid-feedback"> 
                <small *ngIf="form.get('direccion')?.errors?.['maxlength']">Has excedido el límite de caracteres.</small>
              </div>
            </div>

            <div class="d-grid gap-2 d-md-flex justify-content-md-end">
              <button type="button" class="btn btn-secondary me-md-2" routerLink="/">Cancelar</button>
              <button type="submit" [disabled]="form.invalid" class="btn btn-primary">Guardar Contacto</button>
            </div>

          </form>
        </div>
      </div>
    </div>
  </div>
</div>